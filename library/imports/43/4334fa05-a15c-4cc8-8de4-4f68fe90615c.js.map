{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\level.js"],"names":["level","cc","Class","extends","Component","properties","clickBack","Node","background","map_ui_Prefab","Prefab","tower_ALL","enemy_ALL","path_ALL","IfPause","PauseInvalidButton","onLoad","map_ui","instantiate","parent","node","setSiblingIndex","gameStart","CreatPauseInvalidButton","pauseinvalidbutton","ClosePauseInvalidButton","getChildByName","destroy"],"mappings":";;;;;;;;;AAAA;;;;;;;;;;AAUA,IAAIA,QAAQC,GAAGC,KAAH,CAAS;AACjBC,aAASF,GAAGG,SADK;;AAGjBC,gBAAY;AACRC,mBAAUL,GAAGM,IADL;AAERC,oBAAWP,GAAGM,IAFN;AAGRE,uBAAcR,GAAGS,MAHT;AAIRC,mBAAUV,GAAGM,IAJL;AAKRK,mBAAUX,GAAGM,IALL;AAMRM,kBAASZ,GAAGM,IANJ;AAORO,iBAAQ,KAPA;AAQRC,4BAAmBd,GAAGS;AARd,KAHK;;AAcjB;;;AAGAM,UAjBiB,oBAiBT;AACJ;AACA,YAAIC,SAAShB,GAAGiB,WAAH,CAAe,KAAKT,aAApB,CAAb;AACA;AACAQ,eAAOE,MAAP,GAAgB,KAAKC,IAArB;AACA;AACAH,eAAOI,eAAP,CAAuB,CAAvB;AACH,KAxBgB;;AAyBjB;;;AAGAC,eAAU,qBAAY,CAErB,CA9BgB;;AAgCjB;;;;AAIAC,6BAAwB,mCAAU;AAC9B;AACA,YAAIC,qBAAqBvB,GAAGiB,WAAH,CAAe,KAAKH,kBAApB,CAAzB;AACA;AACAS,2BAAmBL,MAAnB,GAA4B,KAAKC,IAAjC;AACA;AACA,aAAKT,SAAL,CAAeU,eAAf,CAA+B,CAA/B;AACAG,2BAAmBH,eAAnB,CAAmC,CAAnC;AACH,KA5CgB;;AA8CjB;;;;AAIAI,6BAAwB,mCAAU;AAC9B,YAAID,qBAAqB,KAAKJ,IAAL,CAAUM,cAAV,CAAyB,oBAAzB,CAAzB;AACAF,2BAAmBG,OAAnB;AACH;AArDgB,CAAT,CAAZ;;kBAwDe3B","file":"level.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["/**\r\n * Created by youlicc on 2019/6/16\r\n * level是每个关卡的类，是每个关卡的根节点，负责监听全局事件，运行游戏时间轴\r\n * level需要实现以下功能：\r\n * <1>初始化游戏舞台\r\n * <2>监听游戏事件\r\n * <3>开启游戏时间轴\r\n * <4>关闭游戏时间轴\r\n * <5>创建阻止游戏操作的按钮（覆盖一个大小和背景一样大的按钮，阻止以下的按钮被点击）\r\n */\r\nvar level = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        clickBack:cc.Node,\r\n        background:cc.Node,\r\n        map_ui_Prefab:cc.Prefab,\r\n        tower_ALL:cc.Node,\r\n        enemy_ALL:cc.Node,\r\n        path_ALL:cc.Node,\r\n        IfPause:false,\r\n        PauseInvalidButton:cc.Prefab\r\n    },\r\n\r\n    /**\r\n     * 游戏舞台初始化\r\n     */\r\n    onLoad(){\r\n        //创建关卡界面，预制件节点化\r\n        let map_ui = cc.instantiate(this.map_ui_Prefab);\r\n        //添加父节点\r\n        map_ui.parent = this.node;\r\n        //调整map_ui在子节点中顺序，保证Tower的按钮在其上方\r\n        map_ui.setSiblingIndex(2);\r\n    },\r\n    /**\r\n     * 游戏开始\r\n     */\r\n    gameStart:function () {\r\n        \r\n    },\r\n\r\n    /**\r\n     * 创建阻止游戏操作的按钮\r\n     * 阻止游戏操作，停止游戏时间轴\r\n     */\r\n    CreatPauseInvalidButton:function(){\r\n        //预制件节点化\r\n        let pauseinvalidbutton = cc.instantiate(this.PauseInvalidButton);\r\n        //添加父节点、坐标\r\n        pauseinvalidbutton.parent = this.node;\r\n        //调整level的子节点的顺序，保证tower被pibutton盖住，pibutton被map_ui盖住\r\n        this.tower_ALL.setSiblingIndex(2);\r\n        pauseinvalidbutton.setSiblingIndex(3);\r\n    },\r\n\r\n    /**\r\n     * 销毁阻止游戏操作的按钮\r\n     * 开放游戏操作，继续游戏时间轴\r\n     */\r\n    ClosePauseInvalidButton:function(){\r\n        let pauseinvalidbutton = this.node.getChildByName(\"PauseInvalidButton\");\r\n        pauseinvalidbutton.destroy();\r\n    },\r\n});\r\n\r\nexport default level"]}